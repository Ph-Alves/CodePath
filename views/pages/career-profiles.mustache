{{>layouts/main}}

{{#contentBody}}
<div class="career-profiles-page">
  <!-- Header da página -->
  <div class="page-header">
    <div class="header-content">
      <h1 class="page-title">
        <i class="fas fa-user-tie"></i>
        Perfis Profissionais
      </h1>
      <p class="page-subtitle">
        Escolha seu objetivo de carreira para receber recomendações personalizadas de estudo
      </p>
    </div>
    
    {{#hasSelectedProfile}}
    <div class="current-profile-banner">
      <i class="fas fa-info-circle"></i>
      <span>Você já tem um perfil selecionado. Escolha outro para alterar sua preferência.</span>
    </div>
    {{/hasSelectedProfile}}
  </div>

  <!-- Grid de perfis profissionais -->
  <div class="profiles-grid">
    {{#profiles}}
    <div class="profile-card {{#isSelected}}selected{{/isSelected}}">
      <!-- Ícone do perfil -->
      <div class="profile-icon">
        <i class="{{iconClass}}"></i>
      </div>
      
      <!-- Informações do perfil -->
      <div class="profile-info">
        <h3 class="profile-name">{{name}}</h3>
        <p class="profile-description">{{description}}</p>
      </div>
      
      <!-- Status de seleção -->
      {{#isSelected}}
      <div class="selection-badge">
        <i class="fas fa-check-circle"></i>
        <span>Selecionado</span>
      </div>
      {{/isSelected}}
      
      <!-- Botão de seleção -->
      <div class="profile-actions">
        {{#isSelected}}
        <button class="btn btn-selected" disabled>
          <i class="fas fa-check"></i>
          Perfil Atual
        </button>
        {{/isSelected}}
        
        {{^isSelected}}
        <form method="POST" action="/career-profiles/select" class="selection-form">
          <input type="hidden" name="profileId" value="{{id}}">
          <button type="submit" class="btn btn-primary btn-select">
            <i class="fas fa-hand-pointer"></i>
            Selecionar Perfil
          </button>
        </form>
        {{/isSelected}}
      </div>
    </div>
    {{/profiles}}
  </div>
  
  <!-- Seção de informações adicionais -->
  <div class="info-section">
    <div class="info-card">
      <div class="info-icon">
        <i class="fas fa-lightbulb"></i>
      </div>
      <div class="info-content">
        <h3>Por que escolher um perfil?</h3>
        <p>
          Ao selecionar seu perfil profissional, nossa plataforma pode recomendar 
          os pacotes de tecnologia mais adequados para sua carreira e personalizar 
          sua experiência de aprendizado.
        </p>
      </div>
    </div>
    
    <div class="info-card">
      <div class="info-icon">
        <i class="fas fa-sync-alt"></i>
      </div>
      <div class="info-content">
        <h3>Posso mudar depois?</h3>
        <p>
          Sim! Você pode alterar seu perfil profissional a qualquer momento. 
          Suas recomendações e trilhas de estudo serão atualizadas automaticamente.
        </p>
      </div>
    </div>
  </div>
  
  <!-- Botão para continuar -->
  <div class="continue-section">
    <a href="/careers" class="btn btn-gradient btn-large">
      <i class="fas fa-arrow-right"></i>
      Continuar para Pacotes
    </a>
  </div>
</div>

<!-- Mensagens de feedback -->
{{#successMessage}}
<div class="alert alert-success" id="successAlert">
  <i class="fas fa-check-circle"></i>
  {{successMessage}}
</div>
{{/successMessage}}

{{#errorMessage}}
<div class="alert alert-error" id="errorAlert">
  <i class="fas fa-exclamation-circle"></i>
  {{errorMessage}}
</div>
{{/errorMessage}}
{{/contentBody}} 