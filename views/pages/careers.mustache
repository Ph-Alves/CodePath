{{>layouts/main}}

{{#contentBody}}
<div class="careers-page">
  <!-- Header da página -->
  <div class="page-header">
    <div class="header-content">
      <h1 class="page-title">
        <i class="fas fa-rocket"></i>
        Pacotes de Tecnologia
      </h1>
      <p class="page-subtitle">
        Escolha sua trilha de aprendizado e descubra seu caminho na tecnologia
      </p>
    </div>
    
    <!-- Estatísticas dos pacotes -->
    <div class="stats-row">
      <div class="stat-card">
        <div class="stat-icon">
          <i class="fas fa-box"></i>
        </div>
        <div class="stat-info">
          <span class="stat-number">{{totalPackages}}</span>
          <span class="stat-label">Pacotes Disponíveis</span>
        </div>
      </div>
      
      <div class="stat-card">
        <div class="stat-icon in-progress">
          <i class="fas fa-play-circle"></i>
        </div>
        <div class="stat-info">
          <span class="stat-number">{{inProgressCount}}</span>
          <span class="stat-label">Em Progresso</span>
        </div>
      </div>
      
      <div class="stat-card">
        <div class="stat-icon completed">
          <i class="fas fa-check-circle"></i>
        </div>
        <div class="stat-info">
          <span class="stat-number">{{completedCount}}</span>
          <span class="stat-label">Concluídos</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Grid de pacotes -->
  <div class="packages-grid">
    {{#packages}}
    <div class="package-card {{#canContinue}}in-progress{{/canContinue}} {{#canStart}}not-started{{/canStart}}">
      <!-- Cabeçalho do card -->
      <div class="package-header">
        <div class="package-icon">
          <span class="tech-icon">{{icon}}</span>
        </div>
        <div class="package-info">
          <h3 class="package-name">{{name}}</h3>
          <p class="package-description">{{description}}</p>
        </div>
      </div>
      
      <!-- Progresso -->
      <div class="package-progress">
        <div class="progress-info">
          <span class="progress-label">Progresso</span>
          <span class="progress-percentage">{{user_progress}}%</span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill {{progressColor}}" style="width: {{user_progress}}%"></div>
        </div>
      </div>
      
      <!-- Informações adicionais -->
      <div class="package-details">
        <div class="detail-item">
          <i class="fas fa-play"></i>
          <span>{{current_lesson}}</span>
        </div>
        <div class="detail-item">
          <i class="fas fa-clock"></i>
          <span>{{statusText}}</span>
        </div>
        {{#lessons_watched}}
        <div class="detail-item">
          <i class="fas fa-eye"></i>
          <span>{{lessons_watched}} aulas assistidas</span>
        </div>
        {{/lessons_watched}}
      </div>
      
      <!-- Ações -->
      <div class="package-actions">
        {{#canStart}}
        <form method="POST" action="/careers/package/{{id}}/start" class="action-form">
          <button type="submit" class="btn btn-primary btn-start">
            <i class="fas fa-play"></i>
            Iniciar Pacote
          </button>
        </form>
        {{/canStart}}
        
        {{#canContinue}}
        <form method="POST" action="/careers/package/{{id}}/continue" class="action-form">
          <button type="submit" class="btn btn-success btn-continue">
            <i class="fas fa-arrow-right"></i>
            Continuar
          </button>
        </form>
        {{/canContinue}}
        
        <a href="/content/package/{{id}}/lessons" class="btn btn-outline btn-details">
          <i class="fas fa-book-open"></i>
          Ver Aulas
        </a>
      </div>
    </div>
    {{/packages}}
  </div>
  
  <!-- Seção de perfis profissionais -->
  <div class="career-profiles-section">
    <div class="section-header">
      <h2 class="section-title">
        <i class="fas fa-user-tie"></i>
        Ainda não escolheu seu perfil profissional?
      </h2>
      <p class="section-subtitle">
        Defina seu objetivo de carreira para receber recomendações personalizadas
      </p>
    </div>
    
    <div class="profile-cta">
      <a href="/career-profiles" class="btn btn-gradient btn-large">
        <i class="fas fa-compass"></i>
        Escolher Perfil Profissional
      </a>
    </div>
  </div>
</div>

<!-- Mensagens de feedback -->
{{#successMessage}}
<div class="alert alert-success" id="successAlert">
  <i class="fas fa-check-circle"></i>
  {{successMessage}}
</div>
{{/successMessage}}

{{#errorMessage}}
<div class="alert alert-error" id="errorAlert">
  <i class="fas fa-exclamation-circle"></i>
  {{errorMessage}}
</div>
{{/errorMessage}}
{{/contentBody}} 