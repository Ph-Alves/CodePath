{{>partials/header}}

<!-- Container Principal das Configurações -->
<div class="settings-container">
    <!-- Header da Página -->
    <div class="page-header">
        <div class="page-header-content">
            <div class="page-icon">
                <i class="fas fa-cog"></i>
            </div>
            <div class="page-info">
                <h1 class="page-title">Configurações</h1>
                <p class="page-description">Personalize sua experiência de aprendizado</p>
            </div>
        </div>
    </div>

    <!-- Navegação das Configurações -->
    <div class="settings-nav">
        <button class="settings-tab active" data-tab="profile">
            <i class="fas fa-user-cog"></i>
            <span>Perfil</span>
        </button>
        <button class="settings-tab" data-tab="notifications">
            <i class="fas fa-bell"></i>
            <span>Notificações</span>
        </button>
        <button class="settings-tab" data-tab="privacy">
            <i class="fas fa-shield-alt"></i>
            <span>Privacidade</span>
        </button>
        <button class="settings-tab" data-tab="learning">
            <i class="fas fa-graduation-cap"></i>
            <span>Aprendizado</span>
        </button>
        <button class="settings-tab" data-tab="appearance">
            <i class="fas fa-palette"></i>
            <span>Aparência</span>
        </button>
    </div>

    <!-- Conteúdo das Configurações -->
    <div class="settings-content">
        <!-- Aba: Perfil e Conta -->
        <div class="settings-tab-content active" id="profile-tab">
            <div class="settings-section">
                <h2 class="section-title">Informações Pessoais</h2>
                <form class="settings-form" id="profile-form">
                    <div class="form-group form-row">
                        <div class="form-group floating-label">
                            <input type="text" id="name" name="name" class="form-control" 
                                   value="{{user.name}}" placeholder=" " required>
                            <label for="name" class="form-label">Nome Completo</label>
                        </div>
                        <div class="form-group floating-label">
                            <input type="email" id="email" name="email" class="form-control" 
                                   value="{{user.email}}" placeholder=" " required>
                            <label for="email" class="form-label">Email</label>
                        </div>
                    </div>
                    
                    <div class="form-group form-row">
                        <div class="form-group floating-label">
                            <input type="date" id="birth_date" name="birth_date" class="form-control" 
                                   value="{{user.birth_date}}" placeholder=" ">
                            <label for="birth_date" class="form-label">Data de Nascimento</label>
                        </div>
                        <div class="form-group">
                            <label for="education_level" class="form-label">Nível de Educação</label>
                            <select id="education_level" name="education_level" class="form-control">
                                <option value="">Selecione...</option>
                                <option value="ensino_medio" {{#eq user.education_level "ensino_medio"}}selected{{/eq}}>Ensino Médio</option>
                                <option value="tecnico" {{#eq user.education_level "tecnico"}}selected{{/eq}}>Técnico</option>
                                <option value="superior_incompleto" {{#eq user.education_level "superior_incompleto"}}selected{{/eq}}>Superior Incompleto</option>
                                <option value="superior_completo" {{#eq user.education_level "superior_completo"}}selected{{/eq}}>Superior Completo</option>
                                <option value="pos_graduacao" {{#eq user.education_level "pos_graduacao"}}selected{{/eq}}>Pós-graduação</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="resetForm('profile-form')">
                            <i class="fas fa-undo"></i>
                            Cancelar
                        </button>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i>
                            Salvar Alterações
                        </button>
                    </div>
                </form>
            </div>

            <div class="settings-section">
                <h2 class="section-title">Alterar Senha</h2>
                <form class="settings-form" id="password-form">
                    <div class="form-group floating-label">
                        <input type="password" id="current_password" name="current_password" class="form-control" placeholder=" " required>
                        <label for="current_password" class="form-label">Senha Atual</label>
                    </div>
                    
                    <div class="form-group form-row">
                        <div class="form-group floating-label">
                            <input type="password" id="new_password" name="new_password" class="form-control" placeholder=" " required>
                            <label for="new_password" class="form-label">Nova Senha</label>
                        </div>
                        <div class="form-group floating-label">
                            <input type="password" id="confirm_password" name="confirm_password" class="form-control" placeholder=" " required>
                            <label for="confirm_password" class="form-label">Confirmar Senha</label>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="resetForm('password-form')">
                            <i class="fas fa-undo"></i>
                            Cancelar
                        </button>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-key"></i>
                            Alterar Senha
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Aba: Notificações -->
        <div class="settings-tab-content" id="notifications-tab">
            <div class="settings-section">
                <h2 class="section-title">Preferências de Notificação</h2>
                <form class="settings-form" id="notifications-form">
                    <div class="form-group">
                        <div class="toggle-group">
                            <label class="toggle-label">
                                <input type="checkbox" name="email_notifications" {{#settings.email_notifications}}checked{{/settings.email_notifications}}>
                                <span class="toggle-slider"></span>
                                <div class="toggle-content">
                                    <strong>Notificações por Email</strong>
                                    <p>Receba atualizações sobre seu progresso e novos conteúdos</p>
                                </div>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <div class="toggle-group">
                            <label class="toggle-label">
                                <input type="checkbox" name="achievement_alerts" {{#settings.achievement_alerts}}checked{{/settings.achievement_alerts}}>
                                <span class="toggle-slider"></span>
                                <div class="toggle-content">
                                    <strong>Alertas de Conquistas</strong>
                                    <p>Seja notificado quando conquistar badges e marcos importantes</p>
                                </div>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <div class="toggle-group">
                            <label class="toggle-label">
                                <input type="checkbox" name="study_reminders" {{#settings.study_reminders}}checked{{/settings.study_reminders}}>
                                <span class="toggle-slider"></span>
                                <div class="toggle-content">
                                    <strong>Lembretes de Estudo</strong>
                                    <p>Receba lembretes para manter sua sequência de estudos</p>
                                </div>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <div class="toggle-group">
                            <label class="toggle-label">
                                <input type="checkbox" name="progress_updates" {{#settings.progress_updates}}checked{{/settings.progress_updates}}>
                                <span class="toggle-slider"></span>
                                <div class="toggle-content">
                                    <strong>Atualizações de Progresso</strong>
                                    <p>Relatórios semanais sobre seu desempenho e evolução</p>
                                </div>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i>
                            Salvar Preferências
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Aba: Privacidade -->
        <div class="settings-tab-content" id="privacy-tab">
            <div class="settings-section">
                <h2 class="section-title">Configurações de Privacidade</h2>
                <form class="settings-form" id="privacy-form">
                    <div class="form-group">
                        <div class="toggle-group">
                            <label class="toggle-label">
                                <input type="checkbox" name="profile_visibility" {{#settings.profile_visibility}}checked{{/settings.profile_visibility}}>
                                <span class="toggle-slider"></span>
                                <div class="toggle-content">
                                    <strong>Perfil Público</strong>
                                    <p>Permitir que outros usuários vejam seu perfil e progresso</p>
                                </div>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <div class="toggle-group">
                            <label class="toggle-label">
                                <input type="checkbox" name="activity_sharing" {{#settings.activity_sharing}}checked{{/settings.activity_sharing}}>
                                <span class="toggle-slider"></span>
                                <div class="toggle-content">
                                    <strong>Compartilhar Atividade</strong>
                                    <p>Mostrar suas conquistas e atividades na comunidade</p>
                                </div>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn btn-secondary" onclick="exportUserData()">
                            <i class="fas fa-download"></i>
                            Exportar Dados
                        </button>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i>
                            Salvar Configurações
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Aba: Aprendizado -->
        <div class="settings-tab-content" id="learning-tab">
            <div class="settings-section">
                <h2 class="section-title">Preferências de Aprendizado</h2>
                <form class="settings-form" id="learning-form">
                    <div class="form-group form-row">
                        <div class="form-group">
                            <label for="study_goal" class="form-label">Meta Diária (minutos)</label>
                            <input type="range" id="study_goal" name="study_goal" class="form-range" 
                                   min="15" max="240" step="15" value="{{settings.study_goal}}">
                            <div class="range-value">
                                <span id="study-goal-value">{{settings.study_goal}}</span> minutos
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="difficulty_level" class="form-label">Nível de Dificuldade Padrão</label>
                            <select id="difficulty_level" name="difficulty_level" class="form-control">
                                <option value="beginner" {{#eq settings.difficulty_level "beginner"}}selected{{/eq}}>Iniciante</option>
                                <option value="intermediate" {{#eq settings.difficulty_level "intermediate"}}selected{{/eq}}>Intermediário</option>
                                <option value="advanced" {{#eq settings.difficulty_level "advanced"}}selected{{/eq}}>Avançado</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <div class="toggle-group">
                            <label class="toggle-label">
                                <input type="checkbox" name="auto_advance" {{#settings.auto_advance}}checked{{/settings.auto_advance}}>
                                <span class="toggle-slider"></span>
                                <div class="toggle-content">
                                    <strong>Avanço Automático</strong>
                                    <p>Passar automaticamente para a próxima aula após conclusão</p>
                                </div>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i>
                            Salvar Preferências
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Aba: Aparência -->
        <div class="settings-tab-content" id="appearance-tab">
            <div class="settings-section">
                <h2 class="section-title">Personalização da Interface</h2>
                <form class="settings-form" id="appearance-form">
                    <div class="form-group form-row">
                        <div class="form-group">
                            <label for="theme_mode" class="form-label">Modo de Tema</label>
                            <select id="theme_mode" name="theme_mode" class="form-control">
                                <option value="light" {{#eq settings.theme_mode "light"}}selected{{/eq}}>Claro</option>
                                <option value="dark" {{#eq settings.theme_mode "dark"}}selected{{/eq}}>Escuro</option>
                                <option value="auto" {{#eq settings.theme_mode "auto"}}selected{{/eq}}>Automático</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="font_size" class="form-label">Tamanho da Fonte</label>
                            <select id="font_size" name="font_size" class="form-control">
                                <option value="small" {{#eq settings.font_size "small"}}selected{{/eq}}>Pequena</option>
                                <option value="medium" {{#eq settings.font_size "medium"}}selected{{/eq}}>Média</option>
                                <option value="large" {{#eq settings.font_size "large"}}selected{{/eq}}>Grande</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <div class="toggle-group">
                            <label class="toggle-label">
                                <input type="checkbox" name="animations" {{#settings.animations}}checked{{/settings.animations}}>
                                <span class="toggle-slider"></span>
                                <div class="toggle-content">
                                    <strong>Animações</strong>
                                    <p>Habilitar animações e transições suaves na interface</p>
                                </div>
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i>
                            Aplicar Tema
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Scripts específicos da página -->
<script src="/js/settings.js"></script>

{{>partials/footer}} 